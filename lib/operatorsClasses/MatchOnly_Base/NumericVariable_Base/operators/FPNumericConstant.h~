/**
 * -==== FPNumericConstant.h
 *
 *                LLGenMu LLVM Mutation Tool
 *
 * This file is distributed under the University of Illinois Open Source
 * License. See LICENSE.TXT for details. 
 *  
 * \brief     Matching and replacement mutation operator for Floating Point constants.
 * \details   This abstract class define is extended from the @see NumericConstant_Base class. 
 */
 
#include "../NumericConstant_Base.h"

class FPNumericConstant: public NumericConstant_Base
{
  protected:
    /**
     * \bref Implement from @see NumericConstant_Base: Match FP
     */
    inline llvm::Constant * constMatched(llvm::Value *val)
    {
        return llvm::dyn_cast<llvm::ConstantFP>(val);
    }
    
    /**
     * \bref Implement from @see NumericConstant_Base
     */
    inline bool constAndEquals (llvm::Value *c1, llvm::Value *c2)
    {
        assert (c1->getType() == c2->getType && "Type Mismatch (FP)!");
        if (llvm::dyn_cast<llvm::ConstantFP>(c1)->isExactlyValue(llvm::dyn_cast<llvm::ConstantFP>(c2)->getValueAPF()))
            return true;
        return false;
    }
};
